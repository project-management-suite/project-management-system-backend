[
  {
    "complete_database_export": {
      "export_timestamp": "2025-12-01T13:43:19.481257+00:00",
      "database_name": "postgres",
      "schemas": {
        "public": {
          "tables": {
            "task_assignments": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "assignment_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "developer_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "assigned_at": {
                  "position": 4,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "task_assignments_developer_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "developer_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "task_assignments_pkey",
                  "type": "PRIMARY KEY",
                  "column": "assignment_id",
                  "foreign_table": "task_assignments",
                  "foreign_column": "assignment_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_assignments_task_id_developer_id_key",
                  "type": "UNIQUE",
                  "column": "task_id",
                  "foreign_table": "task_assignments",
                  "foreign_column": "developer_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_assignments_task_id_developer_id_key",
                  "type": "UNIQUE",
                  "column": "task_id",
                  "foreign_table": "task_assignments",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_assignments_task_id_developer_id_key",
                  "type": "UNIQUE",
                  "column": "developer_id",
                  "foreign_table": "task_assignments",
                  "foreign_column": "developer_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_assignments_task_id_developer_id_key",
                  "type": "UNIQUE",
                  "column": "developer_id",
                  "foreign_table": "task_assignments",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_assignments_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_17536_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "assignment_id IS NOT NULL"
                },
                {
                  "name": "2200_17536_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "task_id IS NOT NULL"
                },
                {
                  "name": "2200_17536_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "developer_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "task_assignments_pkey",
                  "definition": "CREATE UNIQUE INDEX task_assignments_pkey ON public.task_assignments USING btree (assignment_id)"
                },
                {
                  "name": "task_assignments_task_id_developer_id_key",
                  "definition": "CREATE UNIQUE INDEX task_assignments_task_id_developer_id_key ON public.task_assignments USING btree (task_id, developer_id)"
                }
              ],
              "policies": null,
              "triggers": [
                {
                  "name": "trigger_task_assignment_notification",
                  "timing": "AFTER",
                  "event": "INSERT",
                  "statement": "EXECUTE FUNCTION notify_task_assignment()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "files": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "file_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "uploaded_by_user_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_size": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "bigint",
                  "max_length": null,
                  "precision": 64,
                  "scale": 0,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "upload_date": {
                  "position": 9,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_name": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_path_in_storage": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "mime_type": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "files_pkey",
                  "type": "PRIMARY KEY",
                  "column": "file_id",
                  "foreign_table": "files",
                  "foreign_column": "file_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "files_project_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "files_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "files_uploaded_by_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "uploaded_by_user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_17575_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_id IS NOT NULL"
                },
                {
                  "name": "2200_17575_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "project_id IS NOT NULL"
                },
                {
                  "name": "2200_17575_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "uploaded_by_user_id IS NOT NULL"
                },
                {
                  "name": "2200_17575_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_name IS NOT NULL"
                },
                {
                  "name": "2200_17575_6_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_path_in_storage IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "files_pkey",
                  "definition": "CREATE UNIQUE INDEX files_pkey ON public.files USING btree (file_id)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "milestone_tasks": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "milestone_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "milestone_tasks_milestone_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "milestone_id",
                  "foreign_table": "milestones",
                  "foreign_column": "milestone_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "milestone_tasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "milestone_id",
                  "foreign_table": "milestone_tasks",
                  "foreign_column": "milestone_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "milestone_tasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "milestone_id",
                  "foreign_table": "milestone_tasks",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "milestone_tasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "task_id",
                  "foreign_table": "milestone_tasks",
                  "foreign_column": "milestone_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "milestone_tasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "task_id",
                  "foreign_table": "milestone_tasks",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "milestone_tasks_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34724_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "milestone_id IS NOT NULL"
                },
                {
                  "name": "2200_34724_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "task_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "milestone_tasks_pkey",
                  "definition": "CREATE UNIQUE INDEX milestone_tasks_pkey ON public.milestone_tasks USING btree (milestone_id, task_id)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "notifications": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "notification_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "related_entity_id": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_read": {
                  "position": 8,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email_sent": {
                  "position": 9,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 10,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "title": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "message": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "type": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "related_entity_type": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "notifications_pkey",
                  "type": "PRIMARY KEY",
                  "column": "notification_id",
                  "foreign_table": "notifications",
                  "foreign_column": "notification_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "notifications_related_entity_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "notifications",
                  "foreign_column": "related_entity_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((related_entity_type)::text = ANY ((ARRAY['task'::character varying, 'project'::character varying, 'milestone'::character varying])::text[]))"
                },
                {
                  "name": "notifications_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "notifications",
                  "foreign_column": "type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((type)::text = ANY ((ARRAY['task_assigned'::character varying, 'deadline_reminder'::character varying, 'status_update'::character varying, 'milestone_complete'::character varying, 'project_update'::character varying])::text[]))"
                },
                {
                  "name": "notifications_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34739_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "notification_id IS NOT NULL"
                },
                {
                  "name": "2200_34739_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "title IS NOT NULL"
                },
                {
                  "name": "2200_34739_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "message IS NOT NULL"
                },
                {
                  "name": "2200_34739_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "type IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "notifications_pkey",
                  "definition": "CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (notification_id)"
                },
                {
                  "name": "idx_notifications_user",
                  "definition": "CREATE INDEX idx_notifications_user ON public.notifications USING btree (user_id)"
                },
                {
                  "name": "idx_notifications_unread",
                  "definition": "CREATE INDEX idx_notifications_unread ON public.notifications USING btree (is_read) WHERE (is_read = false)"
                },
                {
                  "name": "idx_notifications_type",
                  "definition": "CREATE INDEX idx_notifications_type ON public.notifications USING btree (type)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "notification_preferences": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "user_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email_notifications": {
                  "position": 2,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_assignments": {
                  "position": 3,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "deadline_reminders": {
                  "position": 4,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "status_updates": {
                  "position": 5,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "weekly_digest": {
                  "position": 6,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "milestone_updates": {
                  "position": 7,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 8,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "notification_preferences_pkey",
                  "type": "PRIMARY KEY",
                  "column": "user_id",
                  "foreign_table": "notification_preferences",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "notification_preferences_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34757_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "user_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "notification_preferences_pkey",
                  "definition": "CREATE UNIQUE INDEX notification_preferences_pkey ON public.notification_preferences USING btree (user_id)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "file_shares": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "share_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "shared_with_user_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "shared_by_user_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "shared_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "permission_level": {
                  "position": 5,
                  "default": "'read'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "file_shares_file_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "file_id",
                  "foreign_table": "files",
                  "foreign_column": "file_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "file_shares_file_id_shared_with_user_id_key",
                  "type": "UNIQUE",
                  "column": "file_id",
                  "foreign_table": "file_shares",
                  "foreign_column": "file_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "file_shares_file_id_shared_with_user_id_key",
                  "type": "UNIQUE",
                  "column": "file_id",
                  "foreign_table": "file_shares",
                  "foreign_column": "shared_with_user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "file_shares_file_id_shared_with_user_id_key",
                  "type": "UNIQUE",
                  "column": "shared_with_user_id",
                  "foreign_table": "file_shares",
                  "foreign_column": "file_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "file_shares_file_id_shared_with_user_id_key",
                  "type": "UNIQUE",
                  "column": "shared_with_user_id",
                  "foreign_table": "file_shares",
                  "foreign_column": "shared_with_user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "file_shares_permission_level_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "file_shares",
                  "foreign_column": "permission_level",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((permission_level)::text = ANY ((ARRAY['read'::character varying, 'write'::character varying, 'admin'::character varying])::text[]))"
                },
                {
                  "name": "file_shares_pkey",
                  "type": "PRIMARY KEY",
                  "column": "share_id",
                  "foreign_table": "file_shares",
                  "foreign_column": "share_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "file_shares_shared_by_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "shared_by_user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "SET NULL",
                  "check_clause": null
                },
                {
                  "name": "file_shares_shared_with_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "shared_with_user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34774_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "share_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "file_shares_pkey",
                  "definition": "CREATE UNIQUE INDEX file_shares_pkey ON public.file_shares USING btree (share_id)"
                },
                {
                  "name": "file_shares_file_id_shared_with_user_id_key",
                  "definition": "CREATE UNIQUE INDEX file_shares_file_id_shared_with_user_id_key ON public.file_shares USING btree (file_id, shared_with_user_id)"
                },
                {
                  "name": "idx_file_shares_file",
                  "definition": "CREATE INDEX idx_file_shares_file ON public.file_shares USING btree (file_id)"
                },
                {
                  "name": "idx_file_shares_user",
                  "definition": "CREATE INDEX idx_file_shares_user ON public.file_shares USING btree (shared_with_user_id)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "profile_photos": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "photo_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_size": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "integer",
                  "max_length": null,
                  "precision": 32,
                  "scale": 0,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_current": {
                  "position": 8,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "uploaded_at": {
                  "position": 9,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_name": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_path": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 500,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_url": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 500,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "mime_type": {
                  "position": 7,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 100,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "profile_photos_pkey",
                  "type": "PRIMARY KEY",
                  "column": "photo_id",
                  "foreign_table": "profile_photos",
                  "foreign_column": "photo_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "profile_photos_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34845_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "photo_id IS NOT NULL"
                },
                {
                  "name": "2200_34845_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_name IS NOT NULL"
                },
                {
                  "name": "2200_34845_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_path IS NOT NULL"
                },
                {
                  "name": "2200_34845_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_url IS NOT NULL"
                },
                {
                  "name": "2200_34845_6_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "file_size IS NOT NULL"
                },
                {
                  "name": "2200_34845_7_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "mime_type IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "profile_photos_pkey",
                  "definition": "CREATE UNIQUE INDEX profile_photos_pkey ON public.profile_photos USING btree (photo_id)"
                },
                {
                  "name": "idx_profile_photos_current_user",
                  "definition": "CREATE UNIQUE INDEX idx_profile_photos_current_user ON public.profile_photos USING btree (user_id) WHERE (is_current = true)"
                },
                {
                  "name": "idx_profile_photos_user_id",
                  "definition": "CREATE INDEX idx_profile_photos_user_id ON public.profile_photos USING btree (user_id)"
                },
                {
                  "name": "idx_profile_photos_uploaded_at",
                  "definition": "CREATE INDEX idx_profile_photos_uploaded_at ON public.profile_photos USING btree (uploaded_at)"
                }
              ],
              "policies": [
                {
                  "name": "Users can delete own profile photos",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(user_id = auth.uid())",
                  "with_check": null
                },
                {
                  "name": "Users can update own profile photos",
                  "command": "w",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(user_id = auth.uid())",
                  "with_check": null
                },
                {
                  "name": "Users can upload own profile photos",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": null,
                  "with_check": "(user_id = auth.uid())"
                },
                {
                  "name": "Users can view own profile photos",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(user_id = auth.uid())",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "profiles": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "user_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 5,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email_verified": {
                  "position": 7,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "profile_photo_uploaded_at": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "username": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "role": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "profile_photo_url": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 500,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "profile_photo_path": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 500,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "profiles_email_key",
                  "type": "UNIQUE",
                  "column": "email",
                  "foreign_table": "profiles",
                  "foreign_column": "email",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "profiles_pkey",
                  "type": "PRIMARY KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "profiles_role_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "profiles",
                  "foreign_column": "role",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text, 'DEVELOPER'::text]))"
                },
                {
                  "name": "profiles_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "profiles_username_key",
                  "type": "UNIQUE",
                  "column": "username",
                  "foreign_table": "profiles",
                  "foreign_column": "username",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_17468_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "user_id IS NOT NULL"
                },
                {
                  "name": "2200_17468_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "username IS NOT NULL"
                },
                {
                  "name": "2200_17468_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "email IS NOT NULL"
                },
                {
                  "name": "2200_17468_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "role IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "profiles_pkey",
                  "definition": "CREATE UNIQUE INDEX profiles_pkey ON public.profiles USING btree (user_id)"
                },
                {
                  "name": "profiles_username_key",
                  "definition": "CREATE UNIQUE INDEX profiles_username_key ON public.profiles USING btree (username)"
                },
                {
                  "name": "profiles_email_key",
                  "definition": "CREATE UNIQUE INDEX profiles_email_key ON public.profiles USING btree (email)"
                },
                {
                  "name": "idx_profiles_photo_url",
                  "definition": "CREATE INDEX idx_profiles_photo_url ON public.profiles USING btree (profile_photo_url) WHERE (profile_photo_url IS NOT NULL)"
                }
              ],
              "policies": [
                {
                  "name": "Allow profile creation",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": null,
                  "with_check": "(auth.uid() = user_id)"
                },
                {
                  "name": "Allow reading developers",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(role = 'DEVELOPER'::text)",
                  "with_check": null
                },
                {
                  "name": "Users can read own profile",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(auth.uid() = user_id)",
                  "with_check": null
                },
                {
                  "name": "Users can update own profile",
                  "command": "w",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(auth.uid() = user_id)",
                  "with_check": "(auth.uid() = user_id)"
                }
              ],
              "triggers": null
            },
            "pending_registrations": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_data": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 4,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "pending_registrations_email_key",
                  "type": "UNIQUE",
                  "column": "email",
                  "foreign_table": "pending_registrations",
                  "foreign_column": "email",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "pending_registrations_pkey",
                  "type": "PRIMARY KEY",
                  "column": "id",
                  "foreign_table": "pending_registrations",
                  "foreign_column": "id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_33504_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "id IS NOT NULL"
                },
                {
                  "name": "2200_33504_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "email IS NOT NULL"
                },
                {
                  "name": "2200_33504_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "user_data IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "pending_registrations_pkey",
                  "definition": "CREATE UNIQUE INDEX pending_registrations_pkey ON public.pending_registrations USING btree (id)"
                },
                {
                  "name": "pending_registrations_email_key",
                  "definition": "CREATE UNIQUE INDEX pending_registrations_email_key ON public.pending_registrations USING btree (email)"
                },
                {
                  "name": "idx_pending_registrations_email",
                  "definition": "CREATE INDEX idx_pending_registrations_email ON public.pending_registrations USING btree (email)"
                }
              ],
              "policies": [
                {
                  "name": "Service role can manage pending_registrations",
                  "command": "*",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(auth.role() = 'service_role'::text)",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "email_otps": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "expires_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "used": {
                  "position": 5,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "email": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "otp": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "type": {
                  "position": 7,
                  "default": "'REGISTRATION'::character varying",
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "email_otps_pkey",
                  "type": "PRIMARY KEY",
                  "column": "id",
                  "foreign_table": "email_otps",
                  "foreign_column": "id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "email_otps_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "email_otps",
                  "foreign_column": "type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((type)::text = ANY ((ARRAY['REGISTRATION'::character varying, 'PASSWORD_RESET'::character varying])::text[]))"
                },
                {
                  "name": "2200_33494_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "id IS NOT NULL"
                },
                {
                  "name": "2200_33494_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "email IS NOT NULL"
                },
                {
                  "name": "2200_33494_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "otp IS NOT NULL"
                },
                {
                  "name": "2200_33494_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "expires_at IS NOT NULL"
                },
                {
                  "name": "2200_33494_7_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "type IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "email_otps_pkey",
                  "definition": "CREATE UNIQUE INDEX email_otps_pkey ON public.email_otps USING btree (id)"
                },
                {
                  "name": "idx_email_otps_email",
                  "definition": "CREATE INDEX idx_email_otps_email ON public.email_otps USING btree (email)"
                },
                {
                  "name": "idx_email_otps_otp",
                  "definition": "CREATE INDEX idx_email_otps_otp ON public.email_otps USING btree (email, otp)"
                },
                {
                  "name": "idx_email_otps_expires",
                  "definition": "CREATE INDEX idx_email_otps_expires ON public.email_otps USING btree (expires_at)"
                },
                {
                  "name": "idx_email_otps_type",
                  "definition": "CREATE INDEX idx_email_otps_type ON public.email_otps USING btree (email, type)"
                }
              ],
              "policies": [
                {
                  "name": "Service role can manage email_otps",
                  "command": "*",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(auth.role() = 'service_role'::text)",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "projects": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "project_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "owner_manager_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 5,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "start_date": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "end_date": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "progress_percentage": {
                  "position": 10,
                  "default": "0",
                  "nullable": "YES",
                  "type": "integer",
                  "max_length": null,
                  "precision": 32,
                  "scale": 0,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_name": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "status": {
                  "position": 7,
                  "default": "'PLANNING'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "projects_owner_manager_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "owner_manager_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "projects_pkey",
                  "type": "PRIMARY KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "projects_progress_percentage_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "projects",
                  "foreign_column": "progress_percentage",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((progress_percentage >= 0) AND (progress_percentage <= 100))"
                },
                {
                  "name": "projects_status_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "projects",
                  "foreign_column": "status",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((status)::text = ANY ((ARRAY['PLANNING'::character varying, 'IN_PROGRESS'::character varying, 'COMPLETED'::character varying, 'ON_HOLD'::character varying, 'CANCELLED'::character varying])::text[]))"
                },
                {
                  "name": "2200_17496_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "project_id IS NOT NULL"
                },
                {
                  "name": "2200_17496_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "project_name IS NOT NULL"
                },
                {
                  "name": "2200_17496_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "owner_manager_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "projects_pkey",
                  "definition": "CREATE UNIQUE INDEX projects_pkey ON public.projects USING btree (project_id)"
                },
                {
                  "name": "idx_projects_status",
                  "definition": "CREATE INDEX idx_projects_status ON public.projects USING btree (status)"
                }
              ],
              "policies": [
                {
                  "name": "Admins can delete any project",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'ADMIN'::text))))",
                  "with_check": null
                },
                {
                  "name": "Admins can read all projects",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "is_admin(auth.uid())",
                  "with_check": null
                },
                {
                  "name": "Managers can create projects",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": null,
                  "with_check": "(is_manager(auth.uid()) AND (owner_manager_id = auth.uid()))"
                },
                {
                  "name": "Managers can delete own projects",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "((owner_manager_id = auth.uid()) AND (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'MANAGER'::text)))))",
                  "with_check": null
                },
                {
                  "name": "Managers can read own projects",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(owner_manager_id = auth.uid())",
                  "with_check": null
                }
              ],
              "triggers": [
                {
                  "name": "trigger_projects_updated_at",
                  "timing": "BEFORE",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION update_projects_updated_at()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "teams": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "manager_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_active": {
                  "position": 5,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 6,
                  "default": "timezone('utc'::text, now())",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 7,
                  "default": "timezone('utc'::text, now())",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "team_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "team_name": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 100,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "teams_manager_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "manager_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "teams_name_not_empty",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "teams",
                  "foreign_column": "team_name",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(length(TRIM(BOTH FROM team_name)) > 0)"
                },
                {
                  "name": "teams_name_unique",
                  "type": "UNIQUE",
                  "column": "team_name",
                  "foreign_table": "teams",
                  "foreign_column": "team_name",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "teams_pkey",
                  "type": "PRIMARY KEY",
                  "column": "team_id",
                  "foreign_table": "teams",
                  "foreign_column": "team_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_35177_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_id IS NOT NULL"
                },
                {
                  "name": "2200_35177_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_name IS NOT NULL"
                },
                {
                  "name": "2200_35177_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "manager_id IS NOT NULL"
                },
                {
                  "name": "2200_35177_6_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "created_at IS NOT NULL"
                },
                {
                  "name": "2200_35177_7_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "updated_at IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "teams_pkey",
                  "definition": "CREATE UNIQUE INDEX teams_pkey ON public.teams USING btree (team_id)"
                },
                {
                  "name": "teams_name_unique",
                  "definition": "CREATE UNIQUE INDEX teams_name_unique ON public.teams USING btree (team_name)"
                },
                {
                  "name": "idx_teams_manager_id",
                  "definition": "CREATE INDEX idx_teams_manager_id ON public.teams USING btree (manager_id)"
                },
                {
                  "name": "idx_teams_active",
                  "definition": "CREATE INDEX idx_teams_active ON public.teams USING btree (is_active)"
                }
              ],
              "policies": [
                {
                  "name": "Managers can create teams",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": null,
                  "with_check": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['MANAGER'::text, 'ADMIN'::text])))))"
                },
                {
                  "name": "Managers can delete their teams",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(auth.uid() = manager_id)",
                  "with_check": null
                },
                {
                  "name": "Managers can update their teams",
                  "command": "w",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(auth.uid() = manager_id)",
                  "with_check": null
                },
                {
                  "name": "Users can view teams they are part of or manage",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "((auth.uid() = manager_id) OR (auth.uid() IN ( SELECT team_members.user_id\n   FROM team_members\n  WHERE ((team_members.team_id = teams.team_id) AND (team_members.is_active = true)))))",
                  "with_check": null
                }
              ],
              "triggers": [
                {
                  "name": "update_teams_updated_at",
                  "timing": "BEFORE",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION update_updated_at_column()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "team_members": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "team_member_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "team_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "joined_at": {
                  "position": 5,
                  "default": "timezone('utc'::text, now())",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_active": {
                  "position": 6,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "role_in_team": {
                  "position": 4,
                  "default": "'DEVELOPER'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "team_members_pkey",
                  "type": "PRIMARY KEY",
                  "column": "team_member_id",
                  "foreign_table": "team_members",
                  "foreign_column": "team_member_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_members_role_in_team_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "team_members",
                  "foreign_column": "role_in_team",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((role_in_team)::text = ANY ((ARRAY['DEVELOPER'::character varying, 'LEAD_DEVELOPER'::character varying, 'MANAGER'::character varying])::text[]))"
                },
                {
                  "name": "team_members_team_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "team_id",
                  "foreign_table": "teams",
                  "foreign_column": "team_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "team_members_unique",
                  "type": "UNIQUE",
                  "column": "team_id",
                  "foreign_table": "team_members",
                  "foreign_column": "team_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_members_unique",
                  "type": "UNIQUE",
                  "column": "team_id",
                  "foreign_table": "team_members",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_members_unique",
                  "type": "UNIQUE",
                  "column": "user_id",
                  "foreign_table": "team_members",
                  "foreign_column": "team_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_members_unique",
                  "type": "UNIQUE",
                  "column": "user_id",
                  "foreign_table": "team_members",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_members_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_35196_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_member_id IS NOT NULL"
                },
                {
                  "name": "2200_35196_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_id IS NOT NULL"
                },
                {
                  "name": "2200_35196_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "user_id IS NOT NULL"
                },
                {
                  "name": "2200_35196_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "joined_at IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "team_members_pkey",
                  "definition": "CREATE UNIQUE INDEX team_members_pkey ON public.team_members USING btree (team_member_id)"
                },
                {
                  "name": "team_members_unique",
                  "definition": "CREATE UNIQUE INDEX team_members_unique ON public.team_members USING btree (team_id, user_id)"
                },
                {
                  "name": "idx_team_members_team_id",
                  "definition": "CREATE INDEX idx_team_members_team_id ON public.team_members USING btree (team_id)"
                },
                {
                  "name": "idx_team_members_user_id",
                  "definition": "CREATE INDEX idx_team_members_user_id ON public.team_members USING btree (user_id)"
                },
                {
                  "name": "idx_team_members_active",
                  "definition": "CREATE INDEX idx_team_members_active ON public.team_members USING btree (is_active)"
                }
              ],
              "policies": [
                {
                  "name": "Managers and admins can manage team members",
                  "command": "*",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "((team_id IN ( SELECT teams.team_id\n   FROM teams\n  WHERE (teams.manager_id = auth.uid()))) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'ADMIN'::text)))) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'MANAGER'::text)))))",
                  "with_check": "((team_id IN ( SELECT teams.team_id\n   FROM teams\n  WHERE (teams.manager_id = auth.uid()))) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'ADMIN'::text)))) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = 'MANAGER'::text)))))"
                },
                {
                  "name": "Users can view team members of their teams",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(team_id IN ( SELECT teams.team_id\n   FROM teams\n  WHERE (teams.manager_id = auth.uid())\nUNION\n SELECT tm.team_id\n   FROM team_members tm\n  WHERE ((tm.user_id = auth.uid()) AND (tm.is_active = true))))",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "team_projects": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "team_project_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "team_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "assigned_at": {
                  "position": 4,
                  "default": "timezone('utc'::text, now())",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_active": {
                  "position": 5,
                  "default": "true",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "team_projects_pkey",
                  "type": "PRIMARY KEY",
                  "column": "team_project_id",
                  "foreign_table": "team_projects",
                  "foreign_column": "team_project_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_projects_project_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "team_projects_team_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "team_id",
                  "foreign_table": "teams",
                  "foreign_column": "team_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "team_projects_unique",
                  "type": "UNIQUE",
                  "column": "team_id",
                  "foreign_table": "team_projects",
                  "foreign_column": "project_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_projects_unique",
                  "type": "UNIQUE",
                  "column": "team_id",
                  "foreign_table": "team_projects",
                  "foreign_column": "team_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_projects_unique",
                  "type": "UNIQUE",
                  "column": "project_id",
                  "foreign_table": "team_projects",
                  "foreign_column": "project_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "team_projects_unique",
                  "type": "UNIQUE",
                  "column": "project_id",
                  "foreign_table": "team_projects",
                  "foreign_column": "team_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_35218_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_project_id IS NOT NULL"
                },
                {
                  "name": "2200_35218_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "team_id IS NOT NULL"
                },
                {
                  "name": "2200_35218_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "project_id IS NOT NULL"
                },
                {
                  "name": "2200_35218_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "assigned_at IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "team_projects_pkey",
                  "definition": "CREATE UNIQUE INDEX team_projects_pkey ON public.team_projects USING btree (team_project_id)"
                },
                {
                  "name": "team_projects_unique",
                  "definition": "CREATE UNIQUE INDEX team_projects_unique ON public.team_projects USING btree (team_id, project_id)"
                },
                {
                  "name": "idx_team_projects_team_id",
                  "definition": "CREATE INDEX idx_team_projects_team_id ON public.team_projects USING btree (team_id)"
                },
                {
                  "name": "idx_team_projects_project_id",
                  "definition": "CREATE INDEX idx_team_projects_project_id ON public.team_projects USING btree (project_id)"
                },
                {
                  "name": "idx_team_projects_active",
                  "definition": "CREATE INDEX idx_team_projects_active ON public.team_projects USING btree (is_active)"
                }
              ],
              "policies": [
                {
                  "name": "Managers can manage team projects",
                  "command": "*",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(team_id IN ( SELECT teams.team_id\n   FROM teams\n  WHERE (teams.manager_id = auth.uid())))",
                  "with_check": null
                },
                {
                  "name": "Users can view team projects of their teams",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "-"
                  ],
                  "expression": "(team_id IN ( SELECT teams.team_id\n   FROM teams\n  WHERE (teams.manager_id = auth.uid())\nUNION\n SELECT tm.team_id\n   FROM team_members tm\n  WHERE ((tm.user_id = auth.uid()) AND (tm.is_active = true))))",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "reports": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "report_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "generated_by": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "report_data": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "date_from": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "date_to": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "generated_at": {
                  "position": 10,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "report_name": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "report_type": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "file_path": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 500,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "reports_generated_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "generated_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "SET NULL",
                  "check_clause": null
                },
                {
                  "name": "reports_pkey",
                  "type": "PRIMARY KEY",
                  "column": "report_id",
                  "foreign_table": "reports",
                  "foreign_column": "report_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "reports_project_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "reports_report_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "reports",
                  "foreign_column": "report_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((report_type)::text = ANY ((ARRAY['weekly'::character varying, 'monthly'::character varying, 'custom'::character varying, 'project'::character varying])::text[]))"
                },
                {
                  "name": "valid_date_range",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "reports",
                  "foreign_column": "date_from",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((date_from IS NULL) OR (date_to IS NULL) OR (date_from <= date_to))"
                },
                {
                  "name": "valid_date_range",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "reports",
                  "foreign_column": "date_to",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((date_from IS NULL) OR (date_to IS NULL) OR (date_from <= date_to))"
                },
                {
                  "name": "2200_34627_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "report_id IS NOT NULL"
                },
                {
                  "name": "2200_34627_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "report_name IS NOT NULL"
                },
                {
                  "name": "2200_34627_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "report_type IS NOT NULL"
                },
                {
                  "name": "2200_34627_6_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "report_data IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "idx_reports_project_id",
                  "definition": "CREATE INDEX idx_reports_project_id ON public.reports USING btree (project_id)"
                },
                {
                  "name": "idx_reports_generated_by",
                  "definition": "CREATE INDEX idx_reports_generated_by ON public.reports USING btree (generated_by)"
                },
                {
                  "name": "idx_reports_type_date",
                  "definition": "CREATE INDEX idx_reports_type_date ON public.reports USING btree (report_type, generated_at)"
                },
                {
                  "name": "reports_pkey",
                  "definition": "CREATE UNIQUE INDEX reports_pkey ON public.reports USING btree (report_id)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "analytics_snapshots": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": false,
              "columns": {
                "snapshot_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "entity_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "metrics": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "snapshot_date": {
                  "position": 5,
                  "default": "CURRENT_DATE",
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "entity_type": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "analytics_snapshots_entity_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((entity_type)::text = ANY ((ARRAY['project'::character varying, 'user'::character varying, 'system'::character varying])::text[]))"
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_type",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_type",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_type",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "snapshot_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_id",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_id",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "entity_id",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "snapshot_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "snapshot_date",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "snapshot_date",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "entity_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "type": "UNIQUE",
                  "column": "snapshot_date",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "snapshot_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "analytics_snapshots_pkey",
                  "type": "PRIMARY KEY",
                  "column": "snapshot_id",
                  "foreign_table": "analytics_snapshots",
                  "foreign_column": "snapshot_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_34648_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "snapshot_id IS NOT NULL"
                },
                {
                  "name": "2200_34648_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "entity_type IS NOT NULL"
                },
                {
                  "name": "2200_34648_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "metrics IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "idx_analytics_entity",
                  "definition": "CREATE INDEX idx_analytics_entity ON public.analytics_snapshots USING btree (entity_type, entity_id)"
                },
                {
                  "name": "idx_analytics_date",
                  "definition": "CREATE INDEX idx_analytics_date ON public.analytics_snapshots USING btree (snapshot_date)"
                },
                {
                  "name": "analytics_snapshots_pkey",
                  "definition": "CREATE UNIQUE INDEX analytics_snapshots_pkey ON public.analytics_snapshots USING btree (snapshot_id)"
                },
                {
                  "name": "analytics_snapshots_entity_type_entity_id_snapshot_date_key",
                  "definition": "CREATE UNIQUE INDEX analytics_snapshots_entity_type_entity_id_snapshot_date_key ON public.analytics_snapshots USING btree (entity_type, entity_id, snapshot_date)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "holidays": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "holiday_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "holiday_date": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "is_recurring": {
                  "position": 5,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_by": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 7,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "holiday_name": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "holidays_created_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "created_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "SET NULL",
                  "check_clause": null
                },
                {
                  "name": "holidays_holiday_date_key",
                  "type": "UNIQUE",
                  "column": "holiday_date",
                  "foreign_table": "holidays",
                  "foreign_column": "holiday_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "holidays_pkey",
                  "type": "PRIMARY KEY",
                  "column": "holiday_id",
                  "foreign_table": "holidays",
                  "foreign_column": "holiday_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "2200_34661_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "holiday_id IS NOT NULL"
                },
                {
                  "name": "2200_34661_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "holiday_name IS NOT NULL"
                },
                {
                  "name": "2200_34661_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "holiday_date IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "idx_holidays_date",
                  "definition": "CREATE INDEX idx_holidays_date ON public.holidays USING btree (holiday_date)"
                },
                {
                  "name": "holidays_pkey",
                  "definition": "CREATE UNIQUE INDEX holidays_pkey ON public.holidays USING btree (holiday_id)"
                },
                {
                  "name": "holidays_holiday_date_key",
                  "definition": "CREATE UNIQUE INDEX holidays_holiday_date_key ON public.holidays USING btree (holiday_date)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "deadline_reminders": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "reminder_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "reminder_date": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "sent": {
                  "position": 6,
                  "default": "false",
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 7,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "reminder_type": {
                  "position": 5,
                  "default": "'email'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "deadline_reminders_pkey",
                  "type": "PRIMARY KEY",
                  "column": "reminder_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "reminder_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_reminder_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "reminder_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((reminder_type)::text = ANY ((ARRAY['email'::character varying, 'notification'::character varying, 'both'::character varying])::text[]))"
                },
                {
                  "name": "deadline_reminders_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "task_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "reminder_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "task_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "task_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "user_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "reminder_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "user_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "user_id",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "reminder_date",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "reminder_date",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "reminder_date",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "type": "UNIQUE",
                  "column": "reminder_date",
                  "foreign_table": "deadline_reminders",
                  "foreign_column": "user_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "deadline_reminders_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_34678_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "reminder_id IS NOT NULL"
                },
                {
                  "name": "2200_34678_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "reminder_date IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "deadline_reminders_pkey",
                  "definition": "CREATE UNIQUE INDEX deadline_reminders_pkey ON public.deadline_reminders USING btree (reminder_id)"
                },
                {
                  "name": "deadline_reminders_task_id_user_id_reminder_date_key",
                  "definition": "CREATE UNIQUE INDEX deadline_reminders_task_id_user_id_reminder_date_key ON public.deadline_reminders USING btree (task_id, user_id, reminder_date)"
                },
                {
                  "name": "idx_reminders_task",
                  "definition": "CREATE INDEX idx_reminders_task ON public.deadline_reminders USING btree (task_id)"
                },
                {
                  "name": "idx_reminders_user",
                  "definition": "CREATE INDEX idx_reminders_user ON public.deadline_reminders USING btree (user_id)"
                },
                {
                  "name": "idx_reminders_date",
                  "definition": "CREATE INDEX idx_reminders_date ON public.deadline_reminders USING btree (reminder_date)"
                },
                {
                  "name": "idx_reminders_pending",
                  "definition": "CREATE INDEX idx_reminders_pending ON public.deadline_reminders USING btree (sent) WHERE (sent = false)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "milestones": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "milestone_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "due_date": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "completion_date": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "progress_percentage": {
                  "position": 8,
                  "default": "0",
                  "nullable": "YES",
                  "type": "integer",
                  "max_length": null,
                  "precision": 32,
                  "scale": 0,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_by": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 10,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 11,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "milestone_name": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "status": {
                  "position": 6,
                  "default": "'PENDING'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 50,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "milestones_created_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "created_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "SET NULL",
                  "check_clause": null
                },
                {
                  "name": "milestones_pkey",
                  "type": "PRIMARY KEY",
                  "column": "milestone_id",
                  "foreign_table": "milestones",
                  "foreign_column": "milestone_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "milestones_progress_percentage_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "milestones",
                  "foreign_column": "progress_percentage",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((progress_percentage >= 0) AND (progress_percentage <= 100))"
                },
                {
                  "name": "milestones_project_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "milestones_status_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "milestones",
                  "foreign_column": "status",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((status)::text = ANY ((ARRAY['PENDING'::character varying, 'IN_PROGRESS'::character varying, 'COMPLETED'::character varying, 'OVERDUE'::character varying])::text[]))"
                },
                {
                  "name": "2200_34700_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "milestone_id IS NOT NULL"
                },
                {
                  "name": "2200_34700_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "milestone_name IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "milestones_pkey",
                  "definition": "CREATE UNIQUE INDEX milestones_pkey ON public.milestones USING btree (milestone_id)"
                },
                {
                  "name": "idx_milestones_project",
                  "definition": "CREATE INDEX idx_milestones_project ON public.milestones USING btree (project_id)"
                },
                {
                  "name": "idx_milestones_status",
                  "definition": "CREATE INDEX idx_milestones_status ON public.milestones USING btree (status)"
                },
                {
                  "name": "idx_milestones_due_date",
                  "definition": "CREATE INDEX idx_milestones_due_date ON public.milestones USING btree (due_date)"
                }
              ],
              "policies": null,
              "triggers": null
            },
            "tasks": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "task_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "project_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "start_date": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "end_date": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 8,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 9,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_hours": {
                  "position": 10,
                  "default": "NULL::numeric",
                  "nullable": "YES",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "actual_hours": {
                  "position": 11,
                  "default": "0",
                  "nullable": "YES",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_by": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_at": {
                  "position": 13,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "title": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "status": {
                  "position": 7,
                  "default": "'NEW'::text",
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "tasks_estimated_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "estimated_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "NO ACTION",
                  "check_clause": null
                },
                {
                  "name": "tasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "tasks_project_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "project_id",
                  "foreign_table": "projects",
                  "foreign_column": "project_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "tasks_status_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "tasks",
                  "foreign_column": "status",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(status = ANY (ARRAY['NEW'::text, 'ASSIGNED'::text, 'IN_PROGRESS'::text, 'COMPLETED'::text]))"
                },
                {
                  "name": "2200_17519_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "task_id IS NOT NULL"
                },
                {
                  "name": "2200_17519_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "project_id IS NOT NULL"
                },
                {
                  "name": "2200_17519_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "title IS NOT NULL"
                },
                {
                  "name": "2200_17519_7_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "status IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "tasks_pkey",
                  "definition": "CREATE UNIQUE INDEX tasks_pkey ON public.tasks USING btree (task_id)"
                }
              ],
              "policies": null,
              "triggers": [
                {
                  "name": "trigger_milestone_progress",
                  "timing": "AFTER",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION calculate_milestone_progress()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "subtasks": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "subtask_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "parent_task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_hours": {
                  "position": 7,
                  "default": "NULL::numeric",
                  "nullable": "YES",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "actual_hours": {
                  "position": 8,
                  "default": "0",
                  "nullable": "YES",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_by": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_at": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "start_date": {
                  "position": 11,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "end_date": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_by": {
                  "position": 13,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 14,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 15,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "title": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "status": {
                  "position": 5,
                  "default": "'PENDING'::character varying",
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 20,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "priority": {
                  "position": 6,
                  "default": "'MEDIUM'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 10,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "subtasks_created_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "created_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "NO ACTION",
                  "check_clause": null
                },
                {
                  "name": "subtasks_estimated_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "estimated_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "NO ACTION",
                  "check_clause": null
                },
                {
                  "name": "subtasks_parent_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "parent_task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "subtasks_pkey",
                  "type": "PRIMARY KEY",
                  "column": "subtask_id",
                  "foreign_table": "subtasks",
                  "foreign_column": "subtask_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtasks_priority_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "subtasks",
                  "foreign_column": "priority",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((priority)::text = ANY ((ARRAY['LOW'::character varying, 'MEDIUM'::character varying, 'HIGH'::character varying, 'URGENT'::character varying])::text[]))"
                },
                {
                  "name": "subtasks_status_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "subtasks",
                  "foreign_column": "status",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((status)::text = ANY ((ARRAY['PENDING'::character varying, 'IN_PROGRESS'::character varying, 'COMPLETED'::character varying, 'CANCELLED'::character varying])::text[]))"
                },
                {
                  "name": "2200_35437_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "subtask_id IS NOT NULL"
                },
                {
                  "name": "2200_35437_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "parent_task_id IS NOT NULL"
                },
                {
                  "name": "2200_35437_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "title IS NOT NULL"
                },
                {
                  "name": "2200_35437_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "status IS NOT NULL"
                },
                {
                  "name": "2200_35437_13_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "created_by IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "subtasks_pkey",
                  "definition": "CREATE UNIQUE INDEX subtasks_pkey ON public.subtasks USING btree (subtask_id)"
                },
                {
                  "name": "idx_subtasks_parent_task",
                  "definition": "CREATE INDEX idx_subtasks_parent_task ON public.subtasks USING btree (parent_task_id)"
                },
                {
                  "name": "idx_subtasks_status",
                  "definition": "CREATE INDEX idx_subtasks_status ON public.subtasks USING btree (status)"
                }
              ],
              "policies": [
                {
                  "name": "Authorized users can update subtasks",
                  "command": "w",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "((EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text]))))) OR (EXISTS ( SELECT 1\n   FROM subtask_assignments sa\n  WHERE ((sa.subtask_id = subtasks.subtask_id) AND (sa.assignee_id = auth.uid())))))",
                  "with_check": null
                },
                {
                  "name": "Managers and admins can create subtasks",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": null,
                  "with_check": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))"
                },
                {
                  "name": "Managers and admins can delete subtasks",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))",
                  "with_check": null
                },
                {
                  "name": "Project members can read subtasks",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(EXISTS ( SELECT 1\n   FROM (tasks t\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((t.task_id = subtasks.parent_task_id) AND ((p.owner_manager_id = auth.uid()) OR (EXISTS ( SELECT 1\n           FROM task_assignments ta\n          WHERE ((ta.task_id = t.task_id) AND (ta.developer_id = auth.uid())))) OR (EXISTS ( SELECT 1\n           FROM profiles\n          WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text]))))) OR (EXISTS ( SELECT 1\n           FROM (team_projects tp\n             JOIN team_members tm ON ((tp.team_id = tm.team_id)))\n          WHERE ((tp.project_id = p.project_id) AND (tm.user_id = auth.uid()) AND (tm.is_active = true) AND (tp.is_active = true))))))))",
                  "with_check": null
                }
              ],
              "triggers": [
                {
                  "name": "update_subtasks_updated_at",
                  "timing": "BEFORE",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION update_updated_at_column()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "subtask_assignments": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "assignment_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "subtask_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "assignee_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "assigned_by": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "assigned_at": {
                  "position": 5,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "subtask_assignments_assigned_by_fkey",
                  "type": "FOREIGN KEY",
                  "column": "assigned_by",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "NO ACTION",
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_assignee_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "assignee_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_pkey",
                  "type": "PRIMARY KEY",
                  "column": "assignment_id",
                  "foreign_table": "subtask_assignments",
                  "foreign_column": "assignment_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_subtask_id_assignee_id_key",
                  "type": "UNIQUE",
                  "column": "subtask_id",
                  "foreign_table": "subtask_assignments",
                  "foreign_column": "assignee_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_subtask_id_assignee_id_key",
                  "type": "UNIQUE",
                  "column": "subtask_id",
                  "foreign_table": "subtask_assignments",
                  "foreign_column": "subtask_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_subtask_id_assignee_id_key",
                  "type": "UNIQUE",
                  "column": "assignee_id",
                  "foreign_table": "subtask_assignments",
                  "foreign_column": "assignee_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_subtask_id_assignee_id_key",
                  "type": "UNIQUE",
                  "column": "assignee_id",
                  "foreign_table": "subtask_assignments",
                  "foreign_column": "subtask_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "subtask_assignments_subtask_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "subtask_id",
                  "foreign_table": "subtasks",
                  "foreign_column": "subtask_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_35468_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "assignment_id IS NOT NULL"
                },
                {
                  "name": "2200_35468_2_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "subtask_id IS NOT NULL"
                },
                {
                  "name": "2200_35468_3_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "assignee_id IS NOT NULL"
                },
                {
                  "name": "2200_35468_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "assigned_by IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "subtask_assignments_pkey",
                  "definition": "CREATE UNIQUE INDEX subtask_assignments_pkey ON public.subtask_assignments USING btree (assignment_id)"
                },
                {
                  "name": "subtask_assignments_subtask_id_assignee_id_key",
                  "definition": "CREATE UNIQUE INDEX subtask_assignments_subtask_id_assignee_id_key ON public.subtask_assignments USING btree (subtask_id, assignee_id)"
                },
                {
                  "name": "idx_subtasks_assignee",
                  "definition": "CREATE INDEX idx_subtasks_assignee ON public.subtask_assignments USING btree (assignee_id)"
                }
              ],
              "policies": [
                {
                  "name": "Managers and admins can manage subtask assignments",
                  "command": "*",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))",
                  "with_check": null
                },
                {
                  "name": "Project members can read subtask assignments",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(EXISTS ( SELECT 1\n   FROM ((subtasks s\n     JOIN tasks t ON ((s.parent_task_id = t.task_id)))\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((s.subtask_id = subtask_assignments.subtask_id) AND ((p.owner_manager_id = auth.uid()) OR (subtask_assignments.assignee_id = auth.uid()) OR (EXISTS ( SELECT 1\n           FROM profiles\n          WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))))))",
                  "with_check": null
                }
              ],
              "triggers": null
            },
            "work_logs": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "log_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "subtask_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "user_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "hours_logged": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "work_date": {
                  "position": 6,
                  "default": "CURRENT_DATE",
                  "nullable": "NO",
                  "type": "date",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 9,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "updated_at": {
                  "position": 10,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "description": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "log_type": {
                  "position": 8,
                  "default": "'DEVELOPMENT'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 20,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "work_logs_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "work_logs",
                  "foreign_column": "subtask_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(((task_id IS NOT NULL) AND (subtask_id IS NULL)) OR ((task_id IS NULL) AND (subtask_id IS NOT NULL)))"
                },
                {
                  "name": "work_logs_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "work_logs",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(((task_id IS NOT NULL) AND (subtask_id IS NULL)) OR ((task_id IS NULL) AND (subtask_id IS NOT NULL)))"
                },
                {
                  "name": "work_logs_hours_logged_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "work_logs",
                  "foreign_column": "hours_logged",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(hours_logged > (0)::numeric)"
                },
                {
                  "name": "work_logs_log_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "work_logs",
                  "foreign_column": "log_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((log_type)::text = ANY ((ARRAY['DEVELOPMENT'::character varying, 'TESTING'::character varying, 'REVIEW'::character varying, 'DOCUMENTATION'::character varying, 'MEETING'::character varying, 'RESEARCH'::character varying, 'BUG_FIX'::character varying, 'OTHER'::character varying])::text[]))"
                },
                {
                  "name": "work_logs_pkey",
                  "type": "PRIMARY KEY",
                  "column": "log_id",
                  "foreign_table": "work_logs",
                  "foreign_column": "log_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "work_logs_subtask_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "subtask_id",
                  "foreign_table": "subtasks",
                  "foreign_column": "subtask_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "work_logs_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "work_logs_user_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "user_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_35492_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "log_id IS NOT NULL"
                },
                {
                  "name": "2200_35492_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "user_id IS NOT NULL"
                },
                {
                  "name": "2200_35492_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "hours_logged IS NOT NULL"
                },
                {
                  "name": "2200_35492_6_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "work_date IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "work_logs_pkey",
                  "definition": "CREATE UNIQUE INDEX work_logs_pkey ON public.work_logs USING btree (log_id)"
                },
                {
                  "name": "idx_work_logs_task",
                  "definition": "CREATE INDEX idx_work_logs_task ON public.work_logs USING btree (task_id)"
                },
                {
                  "name": "idx_work_logs_subtask",
                  "definition": "CREATE INDEX idx_work_logs_subtask ON public.work_logs USING btree (subtask_id)"
                },
                {
                  "name": "idx_work_logs_user",
                  "definition": "CREATE INDEX idx_work_logs_user ON public.work_logs USING btree (user_id)"
                },
                {
                  "name": "idx_work_logs_date",
                  "definition": "CREATE INDEX idx_work_logs_date ON public.work_logs USING btree (work_date)"
                }
              ],
              "policies": [
                {
                  "name": "Users can create work logs for assigned tasks",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": null,
                  "with_check": "((user_id = auth.uid()) AND (((task_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM task_assignments ta\n  WHERE ((ta.task_id = work_logs.task_id) AND (ta.developer_id = auth.uid()))))) OR ((subtask_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM subtask_assignments sa\n  WHERE ((sa.subtask_id = work_logs.subtask_id) AND (sa.assignee_id = auth.uid()))))) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))))"
                },
                {
                  "name": "Users can delete own work logs",
                  "command": "d",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text]))))))",
                  "with_check": null
                },
                {
                  "name": "Users can read own work logs and managers can read project work",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text]))))) OR ((task_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM (tasks t\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((t.task_id = work_logs.task_id) AND (p.owner_manager_id = auth.uid()))))) OR ((subtask_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM ((subtasks s\n     JOIN tasks t ON ((s.parent_task_id = t.task_id)))\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((s.subtask_id = work_logs.subtask_id) AND (p.owner_manager_id = auth.uid()))))))",
                  "with_check": null
                },
                {
                  "name": "Users can update own work logs",
                  "command": "w",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "((user_id = auth.uid()) OR (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text]))))))",
                  "with_check": null
                }
              ],
              "triggers": [
                {
                  "name": "update_task_hours_trigger",
                  "timing": "AFTER",
                  "event": "INSERT",
                  "statement": "EXECUTE FUNCTION update_task_actual_hours()",
                  "orientation": "ROW",
                  "condition": null
                },
                {
                  "name": "update_task_hours_trigger",
                  "timing": "AFTER",
                  "event": "DELETE",
                  "statement": "EXECUTE FUNCTION update_task_actual_hours()",
                  "orientation": "ROW",
                  "condition": null
                },
                {
                  "name": "update_task_hours_trigger",
                  "timing": "AFTER",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION update_task_actual_hours()",
                  "orientation": "ROW",
                  "condition": null
                },
                {
                  "name": "update_work_logs_updated_at",
                  "timing": "BEFORE",
                  "event": "UPDATE",
                  "statement": "EXECUTE FUNCTION update_updated_at_column()",
                  "orientation": "ROW",
                  "condition": null
                }
              ]
            },
            "task_estimates": {
              "owner": "postgres",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "estimate_id": {
                  "position": 1,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "task_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "subtask_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimated_hours": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimator_id": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "created_at": {
                  "position": 8,
                  "default": "now()",
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "confidence_level": {
                  "position": 10,
                  "default": "3",
                  "nullable": "YES",
                  "type": "integer",
                  "max_length": null,
                  "precision": 32,
                  "scale": 0,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "actual_hours": {
                  "position": 11,
                  "default": "NULL::numeric",
                  "nullable": "YES",
                  "type": "numeric",
                  "max_length": null,
                  "precision": 8,
                  "scale": 2,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "estimate_type": {
                  "position": 6,
                  "default": "'INITIAL'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 20,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "notes": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                },
                "complexity": {
                  "position": 9,
                  "default": "'MEDIUM'::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 10,
                  "precision": null,
                  "scale": null,
                  "is_identity": "NO",
                  "identity_generation": null,
                  "is_generated": "NEVER",
                  "generation_expression": null
                }
              },
              "constraints": [
                {
                  "name": "task_estimates_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "subtask_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(((task_id IS NOT NULL) AND (subtask_id IS NULL)) OR ((task_id IS NULL) AND (subtask_id IS NOT NULL)))"
                },
                {
                  "name": "task_estimates_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "task_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(((task_id IS NOT NULL) AND (subtask_id IS NULL)) OR ((task_id IS NULL) AND (subtask_id IS NOT NULL)))"
                },
                {
                  "name": "task_estimates_complexity_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "complexity",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((complexity)::text = ANY ((ARRAY['LOW'::character varying, 'MEDIUM'::character varying, 'HIGH'::character varying, 'VERY_HIGH'::character varying])::text[]))"
                },
                {
                  "name": "task_estimates_confidence_level_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "confidence_level",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((confidence_level >= 1) AND (confidence_level <= 5))"
                },
                {
                  "name": "task_estimates_estimate_type_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "estimate_type",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "((estimate_type)::text = ANY ((ARRAY['INITIAL'::character varying, 'REVISED'::character varying, 'FINAL'::character varying])::text[]))"
                },
                {
                  "name": "task_estimates_estimated_hours_check",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": "task_estimates",
                  "foreign_column": "estimated_hours",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "(estimated_hours > (0)::numeric)"
                },
                {
                  "name": "task_estimates_estimator_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "estimator_id",
                  "foreign_table": "profiles",
                  "foreign_column": "user_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "NO ACTION",
                  "check_clause": null
                },
                {
                  "name": "task_estimates_pkey",
                  "type": "PRIMARY KEY",
                  "column": "estimate_id",
                  "foreign_table": "task_estimates",
                  "foreign_column": "estimate_id",
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": null
                },
                {
                  "name": "task_estimates_subtask_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "subtask_id",
                  "foreign_table": "subtasks",
                  "foreign_column": "subtask_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "task_estimates_task_id_fkey",
                  "type": "FOREIGN KEY",
                  "column": "task_id",
                  "foreign_table": "tasks",
                  "foreign_column": "task_id",
                  "update_rule": "NO ACTION",
                  "delete_rule": "CASCADE",
                  "check_clause": null
                },
                {
                  "name": "2200_35522_1_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "estimate_id IS NOT NULL"
                },
                {
                  "name": "2200_35522_4_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "estimated_hours IS NOT NULL"
                },
                {
                  "name": "2200_35522_5_not_null",
                  "type": "CHECK",
                  "column": null,
                  "foreign_table": null,
                  "foreign_column": null,
                  "update_rule": null,
                  "delete_rule": null,
                  "check_clause": "estimator_id IS NOT NULL"
                }
              ],
              "indexes": [
                {
                  "name": "task_estimates_pkey",
                  "definition": "CREATE UNIQUE INDEX task_estimates_pkey ON public.task_estimates USING btree (estimate_id)"
                },
                {
                  "name": "idx_task_estimates_task",
                  "definition": "CREATE INDEX idx_task_estimates_task ON public.task_estimates USING btree (task_id)"
                },
                {
                  "name": "idx_task_estimates_subtask",
                  "definition": "CREATE INDEX idx_task_estimates_subtask ON public.task_estimates USING btree (subtask_id)"
                }
              ],
              "policies": [
                {
                  "name": "Authorized users can create task estimates",
                  "command": "a",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": null,
                  "with_check": "((estimator_id = auth.uid()) AND (EXISTS ( SELECT 1\n   FROM profiles\n  WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text, 'DEVELOPER'::text]))))))"
                },
                {
                  "name": "Project members can read task estimates",
                  "command": "r",
                  "permissive": true,
                  "roles": [
                    "authenticated"
                  ],
                  "expression": "(((task_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM (tasks t\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((t.task_id = task_estimates.task_id) AND ((p.owner_manager_id = auth.uid()) OR (EXISTS ( SELECT 1\n           FROM task_assignments ta\n          WHERE ((ta.task_id = t.task_id) AND (ta.developer_id = auth.uid())))) OR (EXISTS ( SELECT 1\n           FROM profiles\n          WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))))))) OR ((subtask_id IS NOT NULL) AND (EXISTS ( SELECT 1\n   FROM ((subtasks s\n     JOIN tasks t ON ((s.parent_task_id = t.task_id)))\n     JOIN projects p ON ((t.project_id = p.project_id)))\n  WHERE ((s.subtask_id = task_estimates.subtask_id) AND ((p.owner_manager_id = auth.uid()) OR (EXISTS ( SELECT 1\n           FROM subtask_assignments sa\n          WHERE ((sa.subtask_id = s.subtask_id) AND (sa.assignee_id = auth.uid())))) OR (EXISTS ( SELECT 1\n           FROM profiles\n          WHERE ((profiles.user_id = auth.uid()) AND (profiles.role = ANY (ARRAY['ADMIN'::text, 'MANAGER'::text])))))))))))",
                  "with_check": null
                }
              ],
              "triggers": null
            }
          },
          "functions": {
            "calculate_milestone_progress": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.calculate_milestone_progress()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    -- Update milestone progress based on completed tasks\n    UPDATE milestones SET \n        progress_percentage = (\n            SELECT COALESCE(\n                ROUND(\n                    (COUNT(*) FILTER (WHERE t.status = 'COMPLETED') * 100.0) / \n                    NULLIF(COUNT(*), 0)\n                ), 0\n            )\n            FROM milestone_tasks mt\n            JOIN tasks t ON mt.task_id = t.task_id\n            WHERE mt.milestone_id = milestones.milestone_id\n        ),\n        updated_at = NOW()\n    WHERE milestone_id IN (\n        SELECT mt.milestone_id \n        FROM milestone_tasks mt \n        WHERE mt.task_id = COALESCE(NEW.task_id, OLD.task_id)\n    );\n    \n    RETURN COALESCE(NEW, OLD);\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "mark_overdue_milestones": {
              "return_type": "void",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.mark_overdue_milestones()\n RETURNS void\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    UPDATE milestones \n    SET status = 'OVERDUE', updated_at = NOW()\n    WHERE due_date < CURRENT_DATE \n    AND status IN ('PENDING', 'IN_PROGRESS');\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "create_notification": {
              "return_type": "uuid",
              "arguments": "p_user_id uuid, p_title character varying, p_message text, p_type character varying, p_related_entity_type character varying DEFAULT NULL::character varying, p_related_entity_id uuid DEFAULT NULL::uuid",
              "definition": "CREATE OR REPLACE FUNCTION public.create_notification(p_user_id uuid, p_title character varying, p_message text, p_type character varying, p_related_entity_type character varying DEFAULT NULL::character varying, p_related_entity_id uuid DEFAULT NULL::uuid)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    notification_id UUID;\nBEGIN\n    INSERT INTO notifications (user_id, title, message, type, related_entity_type, related_entity_id)\n    VALUES (p_user_id, p_title, p_message, p_type, p_related_entity_type, p_related_entity_id)\n    RETURNING notifications.notification_id INTO notification_id;\n    \n    RETURN notification_id;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "notify_task_assignment": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.notify_task_assignment()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    -- Create notification for assigned developer\n    PERFORM create_notification(\n        NEW.developer_id,\n        'New Task Assigned',\n        'You have been assigned a new task: ' || (SELECT title FROM tasks WHERE task_id = NEW.task_id),\n        'task_assigned',\n        'task',\n        NEW.task_id\n    );\n    \n    RETURN NEW;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "update_user_profile_photo": {
              "return_type": "uuid",
              "arguments": "p_user_id uuid, p_file_name character varying, p_file_path character varying, p_file_url character varying, p_file_size integer, p_mime_type character varying",
              "definition": "CREATE OR REPLACE FUNCTION public.update_user_profile_photo(p_user_id uuid, p_file_name character varying, p_file_path character varying, p_file_url character varying, p_file_size integer, p_mime_type character varying)\n RETURNS uuid\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    photo_id UUID;\nBEGIN\n    -- Mark all existing photos as not current\n    UPDATE profile_photos \n    SET is_current = FALSE \n    WHERE user_id = p_user_id AND is_current = TRUE;\n    \n    -- Insert new photo record\n    INSERT INTO profile_photos (\n        user_id, file_name, file_path, file_url, file_size, mime_type, is_current\n    ) VALUES (\n        p_user_id, p_file_name, p_file_path, p_file_url, p_file_size, p_mime_type, TRUE\n    ) RETURNING profile_photos.photo_id INTO photo_id;\n    \n    -- Update profiles table with new photo info\n    UPDATE profiles \n    SET \n        profile_photo_url = p_file_url,\n        profile_photo_path = p_file_path,\n        profile_photo_uploaded_at = NOW(),\n        updated_at = NOW()\n    WHERE user_id = p_user_id;\n    \n    RETURN photo_id;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "remove_user_profile_photo": {
              "return_type": "boolean",
              "arguments": "p_user_id uuid",
              "definition": "CREATE OR REPLACE FUNCTION public.remove_user_profile_photo(p_user_id uuid)\n RETURNS boolean\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    -- Mark all photos as not current\n    UPDATE profile_photos \n    SET is_current = FALSE \n    WHERE user_id = p_user_id AND is_current = TRUE;\n    \n    -- Clear photo info from profiles table\n    UPDATE profiles \n    SET \n        profile_photo_url = NULL,\n        profile_photo_path = NULL,\n        profile_photo_uploaded_at = NULL,\n        updated_at = NOW()\n    WHERE user_id = p_user_id;\n    \n    RETURN TRUE;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "cleanup_old_profile_photos": {
              "return_type": "integer",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.cleanup_old_profile_photos()\n RETURNS integer\n LANGUAGE plpgsql\nAS $function$\nDECLARE\n    deleted_count INTEGER := 0;\nBEGIN\n    -- Delete old photos, keeping only the 5 most recent per user\n    WITH photos_to_delete AS (\n        SELECT photo_id\n        FROM (\n            SELECT photo_id,\n                   ROW_NUMBER() OVER (PARTITION BY user_id ORDER BY uploaded_at DESC) as rn\n            FROM profile_photos\n            WHERE is_current = FALSE\n        ) ranked_photos\n        WHERE rn > 5\n    )\n    DELETE FROM profile_photos \n    WHERE photo_id IN (SELECT photo_id FROM photos_to_delete);\n    \n    GET DIAGNOSTICS deleted_count = ROW_COUNT;\n    RETURN deleted_count;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "update_projects_updated_at": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.update_projects_updated_at()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = CURRENT_TIMESTAMP;\n    RETURN NEW;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "update_updated_at_column": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.update_updated_at_column()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    NEW.updated_at = now();\n    RETURN NEW;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "handle_new_user": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.handle_new_user()\n RETURNS trigger\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\nBEGIN\n  INSERT INTO public.profiles (user_id, username, email, role)\n  VALUES (\n    NEW.id,\n    COALESCE(NEW.raw_user_meta_data->>'username', split_part(NEW.email, '@', 1)),\n    NEW.email,\n    COALESCE(NEW.raw_user_meta_data->>'role', 'DEVELOPER')\n  );\n  RETURN NEW;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "update_task_actual_hours": {
              "return_type": "trigger",
              "arguments": "",
              "definition": "CREATE OR REPLACE FUNCTION public.update_task_actual_hours()\n RETURNS trigger\n LANGUAGE plpgsql\nAS $function$\nBEGIN\n    -- Update task actual hours from work logs\n    IF NEW.task_id IS NOT NULL THEN\n        UPDATE tasks \n        SET actual_hours = (\n            SELECT COALESCE(SUM(hours_logged), 0)\n            FROM work_logs \n            WHERE task_id = NEW.task_id\n        )\n        WHERE task_id = NEW.task_id;\n    END IF;\n    \n    -- Update subtask actual hours from work logs\n    IF NEW.subtask_id IS NOT NULL THEN\n        UPDATE subtasks \n        SET actual_hours = (\n            SELECT COALESCE(SUM(hours_logged), 0)\n            FROM work_logs \n            WHERE subtask_id = NEW.subtask_id\n        )\n        WHERE subtask_id = NEW.subtask_id;\n    END IF;\n    \n    RETURN NEW;\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "is_admin": {
              "return_type": "boolean",
              "arguments": "user_uuid uuid",
              "definition": "CREATE OR REPLACE FUNCTION public.is_admin(user_uuid uuid)\n RETURNS boolean\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\nBEGIN\n  RETURN EXISTS (\n    SELECT 1 FROM profiles \n    WHERE user_id = user_uuid \n    AND role = 'ADMIN'\n  );\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "is_manager": {
              "return_type": "boolean",
              "arguments": "user_uuid uuid",
              "definition": "CREATE OR REPLACE FUNCTION public.is_manager(user_uuid uuid)\n RETURNS boolean\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\nBEGIN\n  RETURN EXISTS (\n    SELECT 1 FROM profiles \n    WHERE user_id = user_uuid \n    AND role = 'MANAGER'\n  );\nEND;\n$function$\n",
              "language": "plpgsql"
            },
            "is_developer": {
              "return_type": "boolean",
              "arguments": "user_uuid uuid",
              "definition": "CREATE OR REPLACE FUNCTION public.is_developer(user_uuid uuid)\n RETURNS boolean\n LANGUAGE plpgsql\n SECURITY DEFINER\nAS $function$\nBEGIN\n  RETURN EXISTS (\n    SELECT 1 FROM profiles \n    WHERE user_id = user_uuid \n    AND role = 'DEVELOPER'\n  );\nEND;\n$function$\n",
              "language": "plpgsql"
            }
          },
          "sequences": null
        },
        "auth": {
          "tables": {
            "sso_domains": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "created_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "sso_provider_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "domain": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "saml_providers": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "attribute_mapping": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "sso_provider_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "entity_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "metadata_xml": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "metadata_url": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "name_id_format": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "sso_providers": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "disabled": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "resource_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "instances": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "uuid": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "raw_base_config": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "schema_migrations": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": true,
              "columns": {
                "version": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "audit_log_entries": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": false,
              "row_security": true,
              "columns": {
                "instance_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "payload": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "json",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "ip_address": {
                  "position": 5,
                  "default": "''::character varying",
                  "nullable": "NO",
                  "type": "character varying",
                  "max_length": 64,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "refresh_tokens": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "instance_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 2,
                  "default": "nextval('auth.refresh_tokens_id_seq'::regclass)",
                  "nullable": "NO",
                  "type": "bigint",
                  "max_length": null,
                  "precision": 64,
                  "scale": 0
                },
                "revoked": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "session_id": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "token": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "parent": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "saml_relay_states": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "sso_provider_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "flow_state_id": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "request_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "for_email": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "redirect_to": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "users": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "email_confirmed_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "invited_at": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "confirmation_sent_at": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "recovery_sent_at": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "email_change_sent_at": {
                  "position": 15,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "last_sign_in_at": {
                  "position": 16,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "raw_app_meta_data": {
                  "position": 17,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "raw_user_meta_data": {
                  "position": 18,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "is_super_admin": {
                  "position": 19,
                  "default": null,
                  "nullable": "YES",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 20,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 21,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "phone_confirmed_at": {
                  "position": 23,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "phone_change_sent_at": {
                  "position": 26,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "confirmed_at": {
                  "position": 27,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "email_change_confirm_status": {
                  "position": 29,
                  "default": "0",
                  "nullable": "YES",
                  "type": "smallint",
                  "max_length": null,
                  "precision": 16,
                  "scale": 0
                },
                "banned_until": {
                  "position": 30,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "reauthentication_sent_at": {
                  "position": 32,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "is_sso_user": {
                  "position": 33,
                  "default": "false",
                  "nullable": "NO",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "deleted_at": {
                  "position": 34,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "is_anonymous": {
                  "position": 35,
                  "default": "false",
                  "nullable": "NO",
                  "type": "boolean",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "instance_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "aud": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "role": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "email": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "encrypted_password": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "confirmation_token": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "recovery_token": {
                  "position": 11,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "email_change_token_new": {
                  "position": 13,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "email_change": {
                  "position": 14,
                  "default": null,
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "phone": {
                  "position": 22,
                  "default": "NULL::character varying",
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "phone_change": {
                  "position": 24,
                  "default": "''::character varying",
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "phone_change_token": {
                  "position": 25,
                  "default": "''::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "email_change_token_current": {
                  "position": 28,
                  "default": "''::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                },
                "reauthentication_token": {
                  "position": 31,
                  "default": "''::character varying",
                  "nullable": "YES",
                  "type": "character varying",
                  "max_length": 255,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "mfa_amr_claims": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "session_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "authentication_method": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "flow_state": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "code_challenge_method": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "auth_code_issued_at": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "auth_code": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "code_challenge": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "provider_type": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "provider_access_token": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "provider_refresh_token": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "authentication_method": {
                  "position": 11,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "identities": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "identity_data": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "last_sign_in_at": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "id": {
                  "position": 9,
                  "default": "gen_random_uuid()",
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "provider_id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "provider": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "email": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "one_time_tokens": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "token_type": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 6,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp without time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 7,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp without time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "token_hash": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "relates_to": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "mfa_challenges": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "factor_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "verified_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "ip_address": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "inet",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "web_authn_session_data": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "otp_code": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "sessions": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "factor_id": {
                  "position": 5,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "aal": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "not_after": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "refreshed_at": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp without time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "ip": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "inet",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "oauth_client_id": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "refresh_token_counter": {
                  "position": 14,
                  "default": null,
                  "nullable": "YES",
                  "type": "bigint",
                  "max_length": null,
                  "precision": 64,
                  "scale": 0
                },
                "user_agent": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "tag": {
                  "position": 11,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "refresh_token_hmac_key": {
                  "position": 13,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "scopes": {
                  "position": 15,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "oauth_consents": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "granted_at": {
                  "position": 5,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "revoked_at": {
                  "position": 6,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "scopes": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "oauth_clients": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "registration_type": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 10,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 11,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "deleted_at": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_type": {
                  "position": 13,
                  "default": "'confidential'::auth.oauth_client_type",
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_secret_hash": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "redirect_uris": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "grant_types": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_name": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_uri": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "logo_uri": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "mfa_factors": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": true,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "factor_type": {
                  "position": 4,
                  "default": null,
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "status": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "updated_at": {
                  "position": 7,
                  "default": null,
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "last_challenged_at": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "web_authn_credential": {
                  "position": 11,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "web_authn_aaguid": {
                  "position": 12,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "last_webauthn_challenge_data": {
                  "position": 13,
                  "default": null,
                  "nullable": "YES",
                  "type": "jsonb",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "friendly_name": {
                  "position": 3,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "secret": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "phone": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            },
            "oauth_authorizations": {
              "owner": "supabase_auth_admin",
              "has_indexes": true,
              "has_rules": false,
              "has_triggers": true,
              "row_security": false,
              "columns": {
                "id": {
                  "position": 1,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "client_id": {
                  "position": 3,
                  "default": null,
                  "nullable": "NO",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "user_id": {
                  "position": 4,
                  "default": null,
                  "nullable": "YES",
                  "type": "uuid",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "code_challenge_method": {
                  "position": 10,
                  "default": null,
                  "nullable": "YES",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "response_type": {
                  "position": 11,
                  "default": "'code'::auth.oauth_response_type",
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "status": {
                  "position": 12,
                  "default": "'pending'::auth.oauth_authorization_status",
                  "nullable": "NO",
                  "type": "USER-DEFINED",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "created_at": {
                  "position": 14,
                  "default": "now()",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "expires_at": {
                  "position": 15,
                  "default": "(now() + '00:03:00'::interval)",
                  "nullable": "NO",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "approved_at": {
                  "position": 16,
                  "default": null,
                  "nullable": "YES",
                  "type": "timestamp with time zone",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "authorization_id": {
                  "position": 2,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "redirect_uri": {
                  "position": 5,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "scope": {
                  "position": 6,
                  "default": null,
                  "nullable": "NO",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "state": {
                  "position": 7,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "resource": {
                  "position": 8,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "code_challenge": {
                  "position": 9,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "authorization_code": {
                  "position": 13,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                },
                "nonce": {
                  "position": 17,
                  "default": null,
                  "nullable": "YES",
                  "type": "text",
                  "max_length": null,
                  "precision": null,
                  "scale": null
                }
              },
              "policies": null
            }
          }
        }
      },
      "summary": {
        "total_tables": 43,
        "total_columns": 377,
        "total_constraints": 327,
        "total_indexes": 154,
        "total_policies": 35,
        "total_functions": 18,
        "total_triggers": 10,
        "total_sequences": 1
      }
    }
  }
]